<!-- templates/intro.html -->
{% extends "base.html" %}
{% block title %}Welcome to AI DJ{% endblock %}

{% block content %}
<div class="container">
    <div class="intro-container">
        <div class="intro-slider">
            <!-- Slide 1 -->
            <div class="intro-content active">
                <div class="feature-icon">üéß</div>
                <h1>Welcome to AI DJ</h1>
                <p>Your intelligent music companion that understands your emotions, context, and musical preferences. Express how you feel in natural language, and let AI curate the perfect soundtrack for your moment.</p>
            </div>
            
            <!-- Slide 2 -->
            <div class="intro-content">
                <div class="feature-icon">üí´</div>
                <h2>Emotion-Based Music Selection</h2>
                <p>Simply tell AI DJ how you're feeling:</p>
                <p><em>"I broke up with my valentine"</em> ‚Üí Emotional, healing tracks<br>
                <em>"Competitive match in 15 mins"</em> ‚Üí High-energy motivation<br>
                <em>"Need to focus and study"</em> ‚Üí Chill, concentration music</p>
            </div>
            
            <!-- Slide 3 -->
            <div class="intro-content">
                <div class="feature-icon">üîç</div>
                <h2>Smart Music Discovery</h2>
                <p>Find music in multiple ways:</p>
                <p><strong>Direct Search:</strong> "Play Kendrick Lamar" or "Find Lemonade album"<br>
                <strong>Lyric Search:</strong> "You only need the light when it's burning low"<br>
                <strong>Context Search:</strong> "Songs for a road trip" or "Workout playlist"</p>
            </div>
            
            <!-- Slide 4 -->
            <div class="intro-content">
                <div class="feature-icon">üß†</div>
                <h2>Personalized Learning</h2>
                <p>AI DJ learns from your behavior:</p>
                <p><strong>Skip Patterns:</strong> Understands what you don't like<br>
                <strong>Time Preferences:</strong> Knows your mood at different times<br>
                <strong>Replay Analysis:</strong> Remembers your favorite discoveries</p>
                <p>The more you interact, the better AI DJ becomes at reading your musical soul.</p>
            </div>
        </div>
        
        <div class="navigation-container">
            <button class="arrow-btn prev-btn" disabled>‚Üê</button>
            
            <div class="dots-container">
                <div class="dot active"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            
            <button class="arrow-btn next-btn">‚Üí</button>
        </div>
        
        <a href="/auth" class="final-btn" style="display: none;" id="startBtn">Let's Start! üéµ</a>
    </div>
</div>

<script>
    // Override the base script for this specific page
    document.addEventListener('DOMContentLoaded', function() {
        let currentSlide = 0;
        const slides = document.querySelectorAll('.intro-content');
        const dots = document.querySelectorAll('.dot');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        const startBtn = document.getElementById('startBtn');
        
        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            slides[index].classList.add('active');
            dots[index].classList.add('active');
            
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === slides.length - 1;
            
            // Show start button only on last slide
            if (index === slides.length - 1) {
                startBtn.style.display = 'inline-block';
                nextBtn.style.opacity = '0.5';
            } else {
                startBtn.style.display = 'none';
                nextBtn.style.opacity = '1';
            }
            
            currentSlide = index;
        }
        
        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                showSlide(currentSlide + 1);
            }
        }
        
        function prevSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }
        
        prevBtn.addEventListener('click', prevSlide);
        nextBtn.addEventListener('click', nextSlide);
        
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => showSlide(index));
        });
        
        // Initialize first slide
        showSlide(0);
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') prevSlide();
            if (e.key === 'ArrowRight') nextSlide();
        });
    });
</script>
{% endblock %}